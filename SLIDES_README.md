# Система слайдов для уроков

## Обзор

Система слайдов позволяет создавать интерактивные презентации для уроков, аналогично образовательной платформе. Слайды отображаются с навигацией и отслеживанием прогресса.

## Модели

### LessonSlide
Модель для хранения слайдов урока:
- `lesson` - связь с уроком
- `image` - изображение слайда
- `order` - порядок слайда
- `title` - название слайда
- `description` - описание слайда

### Обновленная модель Lesson
Добавлены методы:
- `has_slides()` - проверяет наличие слайдов
- `get_slides()` - возвращает слайды в правильном порядке

## Административная панель

### Управление слайдами
1. Перейдите в админ панель Django
2. Найдите раздел "Слайды уроков"
3. Создайте новый слайд:
   - Выберите урок
   - Загрузите изображение
   - Укажите порядок
   - Добавьте название и описание

### Управление уроками
В админке уроков теперь отображается колонка "Слайды", показывающая наличие слайдов у урока.

## API Endpoints

### Получение слайдов урока
```
GET /lessons/{lesson_id}/slides/
```
Возвращает JSON с данными слайдов:
```json
{
    "success": true,
    "slides": [
        {
            "id": 1,
            "order": 1,
            "title": "Введение",
            "description": "Описание слайда",
            "image": "http://example.com/media/lessons/slides/slide_1.png"
        }
    ]
}
```

### Обновление прогресса слайдов
```
POST /lessons/{lesson_id}/progress/slides/
```
Тело запроса:
```json
{
    "current_slide": 3,
    "total_slides": 5
}
```

## Фронтенд

### Отображение слайдов
Слайды отображаются в уроке с:
- Прогресс-баром
- Навигационными кнопками
- Информацией о текущем слайде
- Поддержкой темной темы

### JavaScript функции
- `initializeSlidesTracking(lessonId)` - инициализация отслеживания
- `loadSlides(lessonId, slidesData)` - загрузка слайдов
- `showSlide(lessonId, slideIndex)` - показ слайда
- `changeSlide(lessonId, direction)` - смена слайда
- `updateSlidesProgress(lessonId, currentSlide, totalSlides)` - обновление прогресса

## Создание тестовых слайдов

### Команда Django
```bash
python manage.py create_test_slides
```

### Опции команды
- `--lesson-id ID` - создать слайды только для конкретного урока

### Автоматическое создание
Команда создает 5 слайдов с:
- Тестовыми изображениями
- Заголовками и описаниями
- Правильным порядком

## Интеграция с прогрессом

Система слайдов интегрирована с существующей системой прогресса:
- Использует поля PDF для совместимости
- Отслеживает просмотр всех слайдов
- Позволяет завершить урок после просмотра слайдов

## Стили CSS

### Основные классы
- `.slides-viewer` - контейнер слайдов
- `.slides-container` - область отображения
- `.slide-image` - изображение слайда
- `.slide-title` - заголовок слайда
- `.slide-description` - описание слайда
- `.slides-navigation` - навигация
- `.slide-nav-btn` - кнопки навигации

### Темная тема
Все элементы поддерживают темную тему через классы `.theme-dark`.

## Пример использования

1. Создайте урок в админке
2. Добавьте слайды через админку "Слайды уроков"
3. Пользователи смогут просматривать слайды с навигацией
4. Прогресс автоматически отслеживается
5. Урок можно завершить после просмотра всех слайдов

## Совместимость

Система слайдов работает параллельно с существующими видео и PDF:
- Приоритет: Слайды > PDF > Видео
- Если есть слайды, они отображаются вместо PDF
- Прогресс учитывает все типы контента

## Тестирование

Запустите тестовый скрипт:
```bash
python test_slides.py
```

Этот скрипт проверит:
- Создание слайдов
- Связи с уроками
- Наличие изображений
- Правильность порядка
