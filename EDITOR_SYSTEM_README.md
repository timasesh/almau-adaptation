# Система редакторов ALMAU Adaptation

## Обзор

Система редакторов позволяет создавать и управлять уроками для адаптации сотрудников. Редакторы - это специальные пользователи, которые имеют права на создание, редактирование и управление учебным контентом.

## Возможности

### Для редакторов:
- ✅ Вход в систему через email и пароль
- ✅ Создание и редактирование уроков
- ✅ Управление своим профилем
- ✅ Просмотр статистики созданных уроков
- ✅ Современный и адаптивный интерфейс

### Для администраторов:
- ✅ Управление редакторами через админ-панель
- ✅ Регистрация новых редакторов
- ✅ Настройка прав доступа для каждого редактора
- ✅ Активация/деактивация редакторов
- ✅ Просмотр статистики по редакторам

## Улучшения мобильного дизайна

### Админ-панель:
- ✅ Кнопка сайдбара перемещена в верхний левый угол на мобильных устройствах
- ✅ Улучшенная навигация для мобильных устройств
- ✅ Адаптивные таблицы и формы
- ✅ Оптимизированные стили для планшетов и телефонов

## Установка и настройка

### 1. Миграции
```bash
python manage.py makemigrations
python manage.py migrate
```

### 2. Создание суперпользователя
```bash
python manage.py createsuperuser
```

### 3. Запуск сервера
```bash
python manage.py runserver
```

## Использование

### Вход для редакторов
1. Перейдите по адресу: `http://localhost:8000/editor/`
2. Введите email и пароль
3. После успешного входа вы попадете на дашборд редактора

### Админ-панель для управления редакторами
1. Перейдите по адресу: `http://localhost:8000/admin-panel/`
2. Войдите как суперпользователь
3. В меню выберите "Редакторы"
4. Используйте кнопку "Добавить редактора" для создания новых редакторов

## Структура файлов

### Модели
- `main/models.py` - модель `Editor` для редакторов

### Формы
- `main/forms.py` - формы для регистрации, входа и редактирования профиля редакторов

### Views
- `main/views.py` - views для системы редакторов:
  - `editor_login_view` - вход редакторов
  - `editor_logout_view` - выход редакторов
  - `editor_dashboard_view` - дашборд редактора
  - `admin_editors_view` - управление редакторами в админке

### Шаблоны
- `main/templates/main/editor_login.html` - страница входа для редакторов
- `main/templates/main/editor/dashboard.html` - дашборд редактора
- `main/templates/main/admin/editors.html` - управление редакторами в админке
- `main/templates/main/admin/base.html` - улучшенный базовый шаблон админки

### URL-ы
- `main/urls.py` - маршруты для системы редакторов

## Права доступа редакторов

Каждый редактор может иметь следующие права:
- **Создание уроков** - может создавать новые уроки
- **Редактирование уроков** - может редактировать существующие уроки
- **Удаление уроков** - может удалять уроки (по умолчанию отключено)

## Мобильная адаптация

### Админ-панель:
- Кнопка сайдбара в верхнем левом углу на мобильных устройствах
- Адаптивные таблицы с горизонтальной прокруткой
- Оптимизированные формы для мобильных устройств
- Улучшенная навигация

### Дашборд редактора:
- Адаптивный дизайн для всех устройств
- Карточки статистики с градиентным фоном
- Быстрые действия в виде кнопок
- Таблицы с уроками

## Безопасность

- Аутентификация по email и паролю
- Проверка прав доступа для каждого действия
- Защита от несанкционированного доступа
- Валидация форм на стороне сервера

## Технические детали

### Модель Editor:
```python
class Editor(models.Model):
    user = models.OneToOneField(User, on_delete=models.CASCADE)
    full_name = models.CharField(max_length=200)
    email = models.EmailField(unique=True)
    department = models.CharField(max_length=200, blank=True)
    position = models.CharField(max_length=200, blank=True)
    phone = models.CharField(max_length=20, blank=True)
    bio = models.TextField(blank=True)
    created_at = models.DateTimeField(auto_now_add=True)
    is_active = models.BooleanField(default=True)
    can_create_lessons = models.BooleanField(default=True)
    can_edit_lessons = models.BooleanField(default=True)
    can_delete_lessons = models.BooleanField(default=False)
```

### Основные функции:
- Автоматическое создание пользователя при регистрации редактора
- Синхронизация данных между User и Editor моделями
- Подсчет созданных уроков
- Проверка статуса верификации

## Дальнейшее развитие

Возможные улучшения системы:
1. Добавление системы уведомлений
2. Интеграция с системой комментариев
3. Расширенные права доступа
4. Система модерации контента
5. Аналитика и отчеты
6. Интеграция с внешними системами

## Поддержка

При возникновении проблем:
1. Проверьте логи Django
2. Убедитесь, что все миграции применены
3. Проверьте настройки CKEditor
4. Убедитесь, что суперпользователь создан

## Лицензия

Система разработана для ALMAU Adaptation Platform.
